# 移动端问卷答题系统

## 概述

这是一个专为移动端设计的问卷答题系统，提供了完整的题目解析能力和优化的移动端用户体验。系统支持多种题目类型，具有响应式设计和触摸友好的交互界面。

## 功能特性

### 🎯 核心功能
- **多题目类型支持**: 文本、多行文本、选择、单选、多选、评分、日期、数字、邮箱、手机号、网址等
- **移动端优化**: 专为触摸设备设计的UI组件和交互体验
- **题目解析**: 智能解析和验证不同类型的题目数据
- **表单验证**: 实时验证用户输入，提供友好的错误提示
- **进度跟踪**: 显示答题进度和剩余题目数量

### 📱 移动端特性
- **触摸友好**: 大按钮、合适的触摸区域、手势支持
- **响应式设计**: 适配各种移动设备屏幕尺寸
- **性能优化**: 流畅的动画和过渡效果
- **无障碍支持**: 符合移动端无障碍设计标准

## 项目结构

```
app/(mobile)/m/
├── page.tsx                    # 移动端首页 - 问卷列表
├── layout.tsx                  # 移动端布局配置
└── survey/
    └── [id]/
        └── page.tsx           # 答题页面

components/mobile/
├── mobile-question-renderer.tsx    # 题目渲染器主组件
├── mobile-question-types.tsx       # 各类型题目的专用组件
└── ...

lib/
└── question-parser.ts              # 题目解析和验证工具
```

## 支持的题目类型

### 1. 文本类题目
- **text**: 单行文本输入
- **textarea**: 多行文本输入
- **email**: 邮箱地址输入
- **phone**: 手机号码输入
- **url**: 网址输入

### 2. 选择类题目
- **select**: 下拉选择
- **radio**: 单选按钮
- **checkbox**: 多选复选框

### 3. 数值类题目
- **number**: 数字输入
- **rating**: 评分（支持星形、心形、拇指等图标）
- **date**: 日期选择

### 4. 特殊题目
- **file**: 文件上传
- **image**: 图片选择
- **location**: 位置选择
- **signature**: 签名

## 使用方法

### 1. 访问移动端首页
```
/m
```

### 2. 选择问卷
在首页浏览可用的问卷列表，点击"开始答题"进入答题页面。

### 3. 开始答题
- 系统会显示问卷描述和第一个问题
- 根据题目类型选择相应的输入方式
- 填写答案后点击"下一题"继续

### 4. 完成答题
- 回答完所有问题后，点击"提交问卷"
- 系统会验证所有必填项
- 提交成功后显示确认信息

## 技术实现

### 前端技术栈
- **React 18**: 使用最新的React特性
- **TypeScript**: 完整的类型安全
- **Tailwind CSS**: 响应式样式设计
- **Shadcn UI**: 高质量UI组件库

### 核心组件

#### MobileQuestionRenderer
主要的题目渲染组件，负责：
- 根据题目类型选择合适的输入组件
- 处理用户输入和验证
- 显示错误信息和提示

#### 专用输入组件
每种题目类型都有专门的组件：
- `TextInput`: 文本输入
- `SelectInput`: 下拉选择
- `RadioInput`: 单选按钮
- `CheckboxInput`: 多选复选框
- `RatingInput`: 评分组件
- 等等...

#### QuestionParser
题目解析工具类，提供：
- 题目类型解析和验证
- 答案格式验证
- 默认值处理
- 选项解析

## 自定义和扩展

### 添加新的题目类型

1. 在 `Question` 接口中添加新类型
2. 创建对应的输入组件
3. 在 `MobileQuestionRenderer` 中添加渲染逻辑
4. 在 `QuestionParser` 中添加验证逻辑

### 自定义样式

所有组件都使用 Tailwind CSS 类名，可以通过修改类名来自定义样式。组件也支持通过 `className` 属性传入自定义样式。

### 主题定制

系统支持深色模式，可以通过修改 CSS 变量或 Tailwind 配置来自定义主题色彩。

## 性能优化

### 组件优化
- 使用 `React.memo` 避免不必要的重渲染
- 实现 `useCallback` 和 `useMemo` 优化函数和计算
- 懒加载非关键组件

### 移动端优化
- 触摸事件优化
- 滚动性能优化
- 图片懒加载
- 代码分割

## 测试

### 单元测试
```bash
npm run test:unit
```

### 集成测试
```bash
npm run test:integration
```

### 移动端测试
- 使用 Chrome DevTools 的移动端模拟器
- 在不同设备上测试触摸交互
- 测试各种屏幕尺寸的响应式表现

## 部署

### 构建
```bash
npm run build
```

### 部署到移动端
- 支持 PWA 安装
- 响应式设计适配各种设备
- 触摸友好的交互体验

## 浏览器支持

- iOS Safari 12+
- Android Chrome 70+
- Samsung Internet 10+
- 其他现代移动端浏览器

## 贡献指南

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 许可证

MIT License

## 联系方式

如有问题或建议，请通过以下方式联系：
- 提交 Issue
- 发送邮件
- 参与讨论

---

**注意**: 这是一个基础实现，实际使用时需要：
- 集成真实的API接口
- 添加用户认证和权限控制
- 实现数据持久化
- 添加更多的错误处理和边界情况处理
- 完善测试覆盖
- 添加监控和日志
