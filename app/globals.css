@tailwind base;
@tailwind components;
@tailwind utilities;
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Display:ital,wght@0,100..900;1,100..900&display=swap');

@layer base {
	:root {
		--background: rgba(255, 255, 255, 1);
		--foreground: rgba(15, 23, 42, 1);
		--card: rgba(255, 255, 255, 1);
		--card-foreground: rgba(15, 23, 42, 1);
		--popover: rgba(255, 255, 255, 1);
		--popover-foreground: rgba(15, 23, 42, 1);
		--primary: rgba(59, 130, 246, 1);
		--primary-foreground: rgba(248, 250, 252, 1);
		--secondary: rgba(241, 245, 249, 1);
		--secondary-foreground: rgba(15, 23, 42, 1);
		--muted: rgba(241, 245, 249, 1);
		--muted-foreground: rgba(100, 116, 139, 1);
		--accent: rgba(241, 245, 249, 1);
		--accent-foreground: rgba(15, 23, 42, 1);
		--destructive: rgba(239, 68, 68, 1);
		--destructive-foreground: rgba(248, 250, 252, 1);
		--border: rgba(226, 232, 240, 1);
		--input: rgba(226, 232, 240, 1);
		--ring: rgba(59, 130, 246, 1);
		--radius: 0.5rem;
		--chart-1: rgba(220, 38, 127, 1);
		--chart-2: rgba(34, 197, 94, 1);
		--chart-3: rgba(59, 130, 246, 1);
		--chart-4: rgba(251, 191, 36, 1);
		--chart-5: rgba(249, 115, 22, 1);
		--sidebar-background: rgba(250, 250, 250, 1);
		--sidebar-foreground: rgba(64, 64, 64, 1);
		--sidebar-primary: rgba(23, 23, 23, 1);
		--sidebar-primary-foreground: rgba(250, 250, 250, 1);
		--sidebar-accent: rgba(245, 245, 245, 1);
		--sidebar-accent-foreground: rgba(23, 23, 23, 1);
		--sidebar-border: rgba(234, 234, 234, 1);
		--sidebar-ring: rgba(59, 130, 246, 1);
	}

	.dark {
		--background: rgb(3, 6, 10);
		--foreground: rgba(248, 250, 252, 1);
		--card: rgb(12, 16, 23);
		--card-foreground: rgba(248, 250, 252, 1);
		--popover: rgba(15, 23, 42, 1);
		--popover-foreground: rgba(248, 250, 252, 1);
		--primary: rgb(67, 145, 247);
		--primary-foreground: rgba(255, 255, 255, 0.848);
		--secondary: rgba(30, 41, 59, 1);
		--secondary-foreground: rgba(248, 250, 252, 1);
		--muted: rgba(30, 41, 59, 1);
		--muted-foreground: rgba(148, 163, 184, 1);
		--accent: rgba(30, 41, 59, 1);
		--accent-foreground: rgba(248, 250, 252, 1);
		--destructive: rgba(127, 29, 29, 1);
		--destructive-foreground: rgba(248, 250, 252, 1);
		--border: rgba(255, 255, 255, 0.14);
		--input: rgba(30, 41, 59, 1);
		--ring: rgba(96, 165, 250, 1);
		--chart-1: rgba(59, 130, 246, 1);
		--chart-2: rgba(34, 197, 94, 1);
		--chart-3: rgba(251, 191, 36, 1);
		--chart-4: rgba(168, 85, 247, 1);
		--chart-5: rgba(236, 72, 153, 1);
		--sidebar-background: rgb(12, 16, 23);
		--sidebar-foreground: rgba(245, 245, 245, 1);
		--sidebar-primary: rgba(250, 250, 250, 1);
		--sidebar-primary-foreground: rgba(23, 23, 23, 1);
		--sidebar-accent: rgb(21, 29, 36);
		--sidebar-accent-foreground: rgba(245, 245, 245, 1);
		--sidebar-border: rgba(38, 38, 38, 1);
		--sidebar-ring: rgba(96, 165, 250, 1);
	}
}

@layer base {
	* {
		@apply border-border;
	}

	body {
		@apply bg-background text-foreground;
	}
}

/* 修复滚动行为 */
html,
body {
	height: 100%;
	overflow-x: hidden;
	scroll-behavior: smooth;
}

/* global.css */
html body[data-scroll-locked] {
	overflow-y: scroll !important;
	margin-right: 0px !important;
}

/* 修复移动设备上的滚动问题 */
@media (max-width: 768px) {
	.overflow-auto {
		-webkit-overflow-scrolling: touch;
	}
}

/* 拖拽时的样式 */
.dragging {
	opacity: 0.6;
	transform: scale(1.02);
	box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

.drag-over {
	border: 2px dashed var(--primary);
	background-color: rgba(59, 130, 246, 0.05);
}

/* 编辑器样式 */
.survey-editor {
	display: grid;
	grid-template-columns: 1fr;
	gap: 1rem;
	height: calc(100vh - 4rem);
	overflow: hidden;
}

@media (min-width: 1024px) {
	.survey-editor {
		grid-template-columns: 3fr 1fr;
	}
}

.editor-panel {
	overflow-y: auto;
	padding: 1rem;
	border-radius: var(--radius);
	background-color: var(--background);
	border: 1px solid var(--border);
}

.config-panel {
	overflow-y: auto;
	padding: 1rem;
	border-radius: var(--radius);
	background-color: var(--background);
	border: 1px solid var(--border);
}

/* 问题项样式 */
.question-item {
	transition: all 0.2s ease-in-out;
}

.question-item:hover {
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.question-item.selected {
	border-color: var(--primary);
	box-shadow: 0 0 0 1px var(--primary);
}

.drag-handle {
	cursor: grab;
}

.drag-handle:active {
	cursor: grabbing;
}

/* 预览模式样式 */
.preview-mode .question-item {
	cursor: default;
}

.preview-mode .drag-handle,
.preview-mode .question-actions {
	display: none;
}

/* 动画效果 */
@keyframes fadeIn {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

.fade-in {
	animation: fadeIn 0.3s ease-in-out;
}

/* 修复表单控件在移动设备上的问题 */
@media (max-width: 768px) {
	input,
	select,
	textarea {
		font-size: 16px !important;
		/* 防止iOS上的缩放 */
	}
}

/* 拖放高亮效果 */
.drop-highlight {
	animation: highlight-pulse 1s ease-in-out;
}

@keyframes highlight-pulse {
	0% {
		box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.5);
	}

	70% {
		box-shadow: 0 0 0 10px rgba(59, 130, 246, 0);
	}

	100% {
		box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
	}
}

.ant-form-item-label label {
	color: rgba(44, 44, 44, 0.85) !important;
	font-weight: 500 !important;
}

.ant-input-number .ant-input-number-in-form-item {
	width: 100% !important;
}
